<h1 mat-dialog-title>
  {{ 'SAVING_GOAL_MODAL.HEADER.' + (content.isEdit ? 'EDIT' : 'ADD') | translate }}
</h1>
<mat-dialog-content>
  @if (modelForm) {
    <form class="saving-goal-form" [formGroup]="modelForm">
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.TITLE' | translate }}</mat-label>
        <input matInput [formControlName]="OutcomeAddEditFormKeys.TITLE" />
        @if (modelForm.controls[OutcomeAddEditFormKeys.TITLE].hasError('required')) {
          <mat-error>{{
            'COMMON.ERRORS.REQUIRED' | translate: { value: 'SAVING_GOAL.TABLE.TITLE' | translate }
          }}</mat-error>
        }
        @if (modelForm.controls[OutcomeAddEditFormKeys.TITLE].hasError('minlength')) {
          <mat-error>{{
            'COMMON.ERRORS.MIN_LENGTH'
              | translate
                : {
                    minlength:
                      modelForm.controls[OutcomeAddEditFormKeys.TITLE].errors?.['minlength']
                        .requiredLength,
                  }
          }}</mat-error>
        }
        @if (modelForm.controls[OutcomeAddEditFormKeys.TITLE].hasError('maxlength')) {
          <mat-error>{{
            'COMMON.ERRORS.MAX_LENGTH'
              | translate
                : {
                    minlength:
                      modelForm.controls[OutcomeAddEditFormKeys.TITLE].errors?.['maxlength']
                        .requiredLength,
                  }
          }}</mat-error>
        }
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.AMOUNT' | translate }}</mat-label>
        <input matInput [formControlName]="OutcomeAddEditFormKeys.AMOUNT" />
        @if (modelForm.controls[OutcomeAddEditFormKeys.AMOUNT].hasError('min')) {
          <mat-error>{{
            'COMMON.ERRORS.MIN'
              | translate
                : {
                    min: modelForm.controls[OutcomeAddEditFormKeys.AMOUNT].errors?.['min'].min,
                  }
          }}</mat-error>
        }
        @if (modelForm.controls[OutcomeAddEditFormKeys.AMOUNT].hasError('max')) {
          <mat-error>{{
            'COMMON.ERRORS.MAX'
              | translate
                : {
                    max: modelForm.controls[OutcomeAddEditFormKeys.AMOUNT].errors?.['max'].max,
                  }
          }}</mat-error>
        }
        @if (modelForm.controls[OutcomeAddEditFormKeys.AMOUNT].hasError('required')) {
          <mat-error>{{
            'COMMON.ERRORS.REQUIRED' | translate: { value: 'SAVING_GOAL.TABLE.AMOUNT' | translate }
          }}</mat-error>
        }
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.DATE' | translate }}</mat-label>
        <input matInput [formControlName]="OutcomeAddEditFormKeys.DATE" [matDatepicker]="picker" />
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        @if (modelForm.controls[OutcomeAddEditFormKeys.DATE].hasError('required')) {
          <mat-error>{{
            'COMMON.ERRORS.REQUIRED' | translate: { value: 'SAVING_GOAL.TABLE.DATE' | translate }
          }}</mat-error>
        }
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.CURRENT_AMOUNT' | translate }}</mat-label>
        <input matInput [formControlName]="OutcomeAddEditFormKeys.CURRENT_AMOUNT" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.DESCRIPTION' | translate }}</mat-label>
        <textarea matInput [formControlName]="OutcomeAddEditFormKeys.DESCRIPTION"></textarea>
        @if (modelForm.controls[OutcomeAddEditFormKeys.DESCRIPTION].hasError('maxlength')) {
          <mat-error>{{
            'COMMON.ERRORS.MAX_LENGTH'
              | translate
                : {
                    maxlength:
                      modelForm.controls[OutcomeAddEditFormKeys.DESCRIPTION].errors?.['maxlength']
                        .requiredLength,
                  }
          }}</mat-error>
        }
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.CYCLICAL_PAYMENT_AMOUNT' | translate }}</mat-label>
        <input matInput [formControlName]="OutcomeAddEditFormKeys.CYCLICAL_PAYMENT_AMOUNT" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'SAVING_GOAL.TABLE.CYCLICAL_PAYMENT_INTERVAL' | translate }}</mat-label>
        <mat-select [formControlName]="OutcomeAddEditFormKeys.CYCLICAL_PAYMENT_INTERVAL">
          <mat-option>-</mat-option>
          @for (interval of intervalOptions; track interval) {
            <mat-option [value]="interval">
              @if (interval && interval?.label) {
                {{ interval.label | translate }}
              }
            </mat-option>
          }
        </mat-select>
      </mat-form-field>
    </form>
  }
</mat-dialog-content>
<mat-dialog-actions>
  <div class="saving-goal-actions">
    <button mat-button (click)="onCancel()">{{ 'COMMON.BUTTONS.CANCEL' | translate }}</button>
    <button
      mat-raised-button
      [disabled]="modelForm?.invalid || modelForm?.pristine"
      (click)="saveForm()">
      {{ 'COMMON.BUTTONS.SAVE' | translate }}
    </button>
  </div>
</mat-dialog-actions>
